function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp-support")})),$(document).ready((function(){const e=document.documentElement,t=document.body,l=function(){let l=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),o=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);const c=document.createElement("div");c.classList.add("scroll-block-dummy"),t.appendChild(c);const i=c.offsetWidth-c.clientWidth;return t.removeChild(c),o>l?i:0}();function o(l,o){let c=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),i=l.getBoundingClientRect();Math.abs(c-(i.top+pageYOffset)-l.offsetHeight)<1&&l.classList.add(o)}!function(){let e=document.querySelector(".overlay--modal"),o=document.querySelector(".header"),c=[t,o];function i(){e.classList.toggle("visible"),t.classList.toggle("hideScroll"),c.forEach(e=>{e.style.paddingRight=""===e.style.paddingRight?l+"px":""})}function n(e){i(),document.querySelector("#"+e).classList.add("visible")}function s(e){a(),setTimeout(()=>n(e),700)}function a(){document.querySelector(".modal.visible").classList.remove("visible"),setTimeout(()=>{i()},150)}document.querySelectorAll("[data-modal]").forEach(e=>{e.addEventListener("click",()=>{n(e.dataset.modal)})}),document.querySelectorAll("[data-changeModal]").forEach(e=>{e.addEventListener("click",()=>s(e.dataset.changemodal))}),document.querySelectorAll("[data-closeModal]").forEach(e=>{e.addEventListener("click",()=>a())}),document.querySelectorAll(".card__form").forEach(e=>{inputs=e.querySelectorAll(".c-field__input"),e.addEventListener("submit",(function(e){console.log("Отправка формы"),$.post("./ajax.php",{act:"send",name:inputs[0].value,mail:inputs[1].value,number:inputs[2].value,from:inputs[3].value},(function(e){e?inputs[3].classList.contains("themeFrom")?s("modal_success"):n("modal_success"):console.log("Ошибка соединения с сервером!")})),e.preventDefault()}))})}(),function(){let e=$("[data-burger='button']"),l=$("[data-burger='menu']"),o=document.querySelector(".overlay--burger");$(e).click(()=>{l.slideToggle("normal"),o.classList.toggle("visible"),t.classList.toggle("hideScroll")}),o.addEventListener("click",()=>{$(e).click(),$(e).find("input").prop("checked",!1)})}(),$("[data-slider]").each((function(e,t){let l=t.dataset.slider.split(",");l=3!=l.length?[1,1,1]:l.map(e=>+e),$(t).lightSlider({item:l[0],slideMove:1,slideMargin:"",controls:!0,easing:"cubic-bezier(0.25, 0, 0.25, 1)",speed:600,responsive:[{breakpoint:1268,settings:{item:l[1]}},{breakpoint:576,settings:{item:l[2]}}]})})),function(){let e=document.querySelector(".overlay--burger");document.querySelectorAll("[data-scroll]").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),function(t){null!==document.querySelector(".overlay--burger.visible")&&e.click();document.querySelector(t).scrollIntoView({behavior:"smooth"})}(t.target.dataset.scroll)})})}(),function(){let e=["#eye_open","#eye_close"];document.querySelectorAll("[data-passwordSwitcher]").forEach(t=>{let l=t.querySelector(".c-field__icon"),o=t.querySelector(".c-field__input"),c=t.querySelector(".c-field__icon use");l.addEventListener("click",t=>{"password"==o.getAttribute("type")?(o.setAttribute("type","text"),c.setAttribute("xlink:href","img/sprite.svg"+e[0])):(o.setAttribute("type","password"),c.setAttribute("xlink:href","img/sprite.svg"+e[1]))})})}(),function(){function e(e){let t="";return e.forEach((e,l)=>{0==l&&(t=e.innerHTML),e.hasAttribute("selected")&&(t=e.innerHTML)}),t}function t(e,t){t.innerHTML="",e.forEach((e,l)=>{let o=document.createElement("li");o.classList.add("c-select__item"),o.setAttribute("data-id",l),o.innerHTML=e.innerHTML,e.getAttributeNames().forEach(t=>{o.setAttribute(t,e.getAttribute(t))}),t.appendChild(o)})}document.querySelectorAll("[data-customSelect]").forEach(l=>{let c=l.parentNode,i=l.querySelectorAll("option"),n=c.querySelector("svg");l.classList.add("visually-hidden"),function(l,c,i){let n=document.createElement("div");n.classList.add("c-select__inner");let s=document.createElement("div");s.classList.add("c-select__header");let a=document.createElement("span");a.classList.add("c-select__title"),a.innerHTML=e(c),s.appendChild(a),null!==i&&s.appendChild(i);let d=document.createElement("div");d.classList.add("c-select__body"),s.classList.add("c-select__container"),d.classList.add("c-select__container");let r=document.createElement("ul");r.classList.add("c-select__items"),t(c,r),d.appendChild(r),n.appendChild(s),n.appendChild(d),l.appendChild(n),o(d,"c-select__body--top"),n.addEventListener("click",(function(e){n.classList.toggle("c-select__inner--open")})),r.addEventListener("click",(function(l){l.target.classList.contains("c-select__item")&&(c.forEach(e=>{e.removeAttribute("selected")}),c[+l.target.dataset.id].setAttribute("selected",""),t(c,r),a.innerHTML=e(c))}))}(c,i,n)})}(),$("[data-details]").each((function(){$(this).click(()=>{$(this).find(".details__body").slideToggle("normal"),$(this).toggleClass("details--opened")})})),$(".dropdown").each((function(){let e=$(this).find(".dropdown__header"),t=$(this).find(".dropdown__body");o(t[0],"dropdown__body--top"),t.hide(),$(this).hasClass("dropdown--click")?e.click((function(){t.fadeToggle("slow")})):$(this).hasClass("dropdown--hover")&&e.hover((function(){t.fadeToggle("slow")}),(function(){t.fadeToggle("slow")}))})),setTimeout(()=>{document.querySelectorAll("[adaptImg]").forEach(e=>{let t=e.naturalWidth/16;e.naturalHeight,t>0&&(e.style.width=t+"rem")})},50);const c=document.querySelectorAll(".choose__elem .btn__descr");c.forEach(e=>{e.classList.add("hidden")});let i=!1;$(document).scroll((function(){let e=$(window).scrollTop(),t=$(".choose").offset().top;i||Math.floor(Math.abs(e-t))<40&&(console.log("УАВФЫФ"),function(e){e.forEach((e,t)=>{e.classList.add("show")})}(c),i=!0)})),$(".input_number").mask("+7 (999) 999 99-99");let n=document.querySelectorAll("[data-formChangeTheme]"),s=document.querySelector("#modal_mail .themeFrom");n.forEach(e=>{e.addEventListener("click",(function(){s.setAttribute("value",e.dataset.formchangetheme)}))})}));